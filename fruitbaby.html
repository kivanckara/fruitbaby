<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Pregnancy week-by-week fruit comparison with bilingual support, dark mode, and interactive insights.">
    <meta name="keywords" content="pregnancy, fruit size, baby growth, week by week, bilingual tracker">
    <meta name="author" content="FruitBaby">
    <link rel="canonical" href="https://example.com/fruitbaby">
    <link rel="alternate" hreflang="en" href="https://example.com/fruitbaby">
    <link rel="alternate" hreflang="tr" href="https://example.com/fruitbaby?lang=tr">
    <meta property="og:title" content="Pregnancy Fruit Journey">
    <meta property="og:description" content="Visualize baby growth with fruit sizes, track each week, and switch between English and Turkish.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/fruitbaby">
    <meta property="og:image" content="https://example.com/assets/fruitbaby-preview.jpg">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="tr_TR">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Pregnancy Fruit Journey">
    <meta name="twitter:description" content="Visualize baby growth with fruit sizes and bilingual insights.">
    <title>Pregnancy Fruit Journey</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        const GA_MEASUREMENT_ID = 'G-XXXXXXXXXX';
        gtag('js', new Date());
        gtag('config', GA_MEASUREMENT_ID, { anonymize_ip: true });
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Pregnancy Fruit Journey",
        "description": "Pregnancy week-by-week fruit comparison with bilingual support, dark mode, and interactive insights.",
        "url": "https://example.com/fruitbaby",
        "inLanguage": ["en", "tr"],
        "isAccessibleForFree": true
    }
    </script>
    <style>
        :root {
            color-scheme: light;
            --bg: linear-gradient(180deg, #f8f4ff 0%, #ffeef2 100%);
            --card-bg: rgba(255, 255, 255, 0.78);
            --border: rgba(102, 102, 153, 0.18);
            --accent: #ff6584;
            --accent-dark: #e24a6d;
            --text-main: #2a2139;
            --text-soft: #5e5871;
            --shadow: 0 20px 40px rgba(42, 33, 57, 0.15);
            --control-bg: rgba(255, 255, 255, 0.7);
            --control-border: rgba(102, 102, 153, 0.2);
            --control-text: #564f67;
            --track-bg: rgba(255, 255, 255, 0.65);
            --progress-track: rgba(42, 33, 57, 0.1);
        }

        :root[data-theme="dark"] {
            color-scheme: dark;
            --bg: linear-gradient(180deg, #140b2a 0%, #1d1024 100%);
            --card-bg: rgba(23, 19, 38, 0.85);
            --border: rgba(255, 255, 255, 0.08);
            --accent: #ff7aa2;
            --accent-dark: #ff9bb9;
            --text-main: #f5f2ff;
            --text-soft: #c8c4da;
            --shadow: 0 24px 48px rgba(6, 4, 11, 0.6);
            --control-bg: rgba(43, 34, 64, 0.9);
            --control-border: rgba(255, 255, 255, 0.08);
            --control-text: #e3def7;
            --track-bg: rgba(255, 255, 255, 0.22);
            --progress-track: rgba(255, 255, 255, 0.12);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: "Segoe UI", Tahoma, Geneva, sans-serif;
            background: var(--bg);
            color: var(--text-main);
            transition: background 0.4s ease, color 0.4s ease;
        }

        main {
            max-width: 960px;
            margin: 0 auto;
            padding: 48px 24px 64px;
        }

        .ad-slot {
            border: 1px dashed var(--border);
            background: rgba(255, 255, 255, 0.55);
            border-radius: 16px;
            padding: 18px;
            text-align: center;
            color: var(--text-soft);
            font-size: 0.9rem;
            margin-bottom: 28px;
        }

        .ad-slot p {
            margin: 0;
        }

        :root[data-theme="dark"] .ad-slot {
            background: rgba(36, 28, 54, 0.9);
            border-color: rgba(255, 255, 255, 0.12);
        }
        .toolbar {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 18px;
            margin-bottom: 28px;
        }

        .control {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text-soft);
            font-size: 0.95rem;
        }

        .pill-group {
            display: inline-flex;
            gap: 4px;
            padding: 4px;
            border-radius: 999px;
            background: var(--control-bg);
            border: 1px solid var(--control-border);
            box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.18);
        }

        button {
            font: inherit;
            cursor: pointer;
        }

        .pill-group button,
        .pill-action {
            border: none;
            border-radius: 999px;
            padding: 8px 16px;
            background: transparent;
            color: var(--control-text);
            transition: all 0.2s ease;
        }

        .pill-group button:hover,
        .pill-group button:focus,
        .pill-action:hover,
        .pill-action:focus {
            outline: none;
            color: var(--accent);
            transform: translateY(-1px);
        }

        .pill-group button[data-active="true"] {
            background: var(--accent);
            color: #ffffff;
            box-shadow: 0 10px 20px rgba(255, 101, 132, 0.35);
        }

        .pill-action {
            border: 1px solid var(--control-border);
            background: var(--control-bg);
            color: var(--text-main);
        }

        .pill-action[data-active="dark"] {
            background: var(--accent);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 10px 24px rgba(255, 101, 132, 0.35);
        }

        h1 {
            font-size: clamp(2.25rem, 5vw, 3rem);
            margin: 0 0 12px;
            letter-spacing: -0.02em;
        }

        p.lead {
            margin: 0 0 32px;
            font-size: 1.05rem;
            color: var(--text-soft);
        }

        .dashboard {
            display: grid;
            gap: 32px;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 28px;
            backdrop-filter: blur(14px);
            box-shadow: var(--shadow);
            transition: background 0.4s ease, border 0.4s ease, box-shadow 0.4s ease;
        }

        .card h2 {
            margin: 0 0 18px;
            font-size: 1.6rem;
        }

        .trimester-badges {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .trimester-badges button {
            border: 1px solid var(--border);
            background: var(--control-bg);
            color: var(--text-soft);
            border-radius: 999px;
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .trimester-badges button:hover,
        .trimester-badges button:focus {
            outline: none;
            border-color: var(--accent);
            color: var(--accent);
        }

        .trimester-badges button[data-active="true"] {
            background: var(--accent);
            border-color: transparent;
            color: #ffffff;
            box-shadow: 0 10px 20px rgba(255, 101, 132, 0.3);
        }

        .week-range {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .week-range label {
            font-weight: 600;
            display: flex;
            gap: 8px;
            align-items: baseline;
        }

        .week-range label span:first-child {
            color: var(--text-soft);
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 999px;
            background: var(--track-bg);
            border: 1px solid var(--border);
            position: relative;
            transition: background 0.4s ease, border 0.4s ease;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 8px 16px rgba(255, 101, 132, 0.35);
            cursor: pointer;
            border: none;
        }

        input[type="range"]::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--accent);
            border: none;
            box-shadow: 0 8px 16px rgba(255, 101, 132, 0.35);
            cursor: pointer;
        }

        .fruit-highlight {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            align-items: center;
        }

        .fruit-highlight .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 999px;
            background: rgba(255, 101, 132, 0.12);
            color: var(--accent-dark);
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        :root[data-theme="dark"] .fruit-highlight .badge {
            background: rgba(255, 122, 162, 0.18);
        }

        .fruit-info h3 {
            margin: 0 0 6px;
            font-size: 1.3rem;
        }

        .fruit-info p {
            margin: 0;
            color: var(--text-soft);
            line-height: 1.5;
        }

        .size-callout {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-dark);
            margin-top: 10px;
        }

        .progress-track {
            margin-top: 20px;
        }

        .progress-bar {
            position: relative;
            height: 10px;
            border-radius: 999px;
            background: var(--progress-track);
            overflow: hidden;
        }

        .progress-bar span {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--accent);
            transition: width 0.25s ease;
        }

        .progress-labels {
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-soft);
        }

        .week-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 16px;
        }

        .week-grid button {
            border: 1px solid var(--border);
            background: var(--control-bg);
            border-radius: 12px;
            padding: 14px 12px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-main);
        }

        .week-grid button strong {
            display: block;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .week-grid button span {
            display: block;
            font-size: 0.8rem;
            color: var(--text-soft);
        }

        .week-grid button:hover,
        .week-grid button:focus {
            outline: none;
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 12px 24px rgba(255, 101, 132, 0.22);
        }

        .week-grid button[data-active="true"] {
            background: var(--accent);
            color: #ffffff;
            border-color: transparent;
        }

        footer {
            margin-top: 48px;
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-soft);
        }

        @media (max-width: 640px) {
            main {
                padding: 32px 16px 48px;
            }

            .card {
                padding: 22px;
            }

            .trimester-badges {
                flex-direction: column;
            }

            .toolbar {
                flex-direction: column;
                align-items: flex-start;
            }

            .ad-slot {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
<main>
    <aside class="ad-slot" id="ad-slot-top" aria-label="Advertising space">
        <p>Ad placeholder - replace with provider embed code.</p>
    </aside>
    <div class="toolbar">
        <div class="control">
            <span id="language-label">Language</span>
            <div class="pill-group" id="language-toggle">
                <button type="button" data-lang="en" data-active="true">English</button>
                <button type="button" data-lang="tr">Turkish</button>
            </div>
        </div>
        <div class="control">
            <span id="theme-label">Theme</span>
            <button type="button" id="theme-toggle" class="pill-action" data-active="light">Switch to dark mode</button>
        </div>
    </div>

    <header>
        <h1 id="header-title">Pregnancy Fruit Journey</h1>
        <p class="lead" id="header-lead">Explore each week of pregnancy with a fruit-inspired comparison so you can picture how your baby grows from a tiny seed to a nearly full-size watermelon.</p>
    </header>

    <section class="dashboard">
        <article class="card">
            <div class="trimester-badges" id="trimester-tabs" role="tablist" aria-label="Trimester shortcuts">
                <button type="button" data-trimester="1">Trimester 1 - Weeks 4-13</button>
                <button type="button" data-trimester="2">Trimester 2 - Weeks 14-27</button>
                <button type="button" data-trimester="3">Trimester 3 - Weeks 28-40</button>
            </div>

            <div class="week-range">
                <label for="week-range"><span id="week-label">Week</span> <span id="week-number">4</span></label>
                <input type="range" id="week-range" min="4" max="40" value="4" step="1">
            </div>

            <div class="fruit-highlight" aria-live="polite">
                <div>
                    <span class="badge" id="trimester-label">First trimester</span>
                    <h2 id="fruit-title">Week 4 - Poppy Seed</h2>
                    <div class="size-callout" id="fruit-size">Approx. 0.04 in / 0.1 cm</div>
                </div>
                <div class="fruit-info">
                    <h3 id="fruit-name">Poppy Seed</h3>
                    <p id="fruit-summary">Right after implantation, your embryo is smaller than a poppy seed while layers of cells begin forming the placenta and baby.</p>
                </div>
            </div>

            <div class="progress-track">
                <div class="progress-bar" aria-hidden="true">
                    <span id="progress-fill" style="width:3%"></span>
                </div>
                <div class="progress-labels">
                    <span id="progress-start">Start</span>
                    <span id="progress-trimester">First trimester</span>
                    <span id="progress-delivery">Delivery</span>
                </div>
            </div>
        </article>

        <article class="card">
            <h2 id="jump-heading">Jump to a Week</h2>
            <div class="week-grid" id="week-grid" aria-label="Week quick selection"></div>
        </article>
    </section>

    <aside class="ad-slot" id="ad-slot-bottom" aria-label="Advertising space">
        <p>Ad placeholder - replace with provider embed code.</p>
    </aside>

    <footer id="footer-note">
        Fruit sizes use common pregnancy comparisons and are approximate. Every pregnancy is unique-use this tool for fun visualization rather than medical guidance.
    </footer>
</main>

<script>
    const translations = {
        en: {
            pageTitle: "Pregnancy Fruit Journey",
            headerTitle: "Pregnancy Fruit Journey",
            headerLead: "Explore each week of pregnancy with a fruit-inspired comparison so you can picture how your baby grows from a tiny seed to a nearly full-size watermelon.",
            languageLabel: "Language",
            themeLabel: "Theme",
            languages: { en: "English", tr: "Turkish" },
            themeToggleDark: "Switch to dark mode",
            themeToggleLight: "Switch to light mode",
            weekLabel: "Week",
            weekPrefix: "Week",
            trimesterNames: { 1: "First trimester", 2: "Second trimester", 3: "Third trimester" },
            trimesterButtons: {
                1: "Trimester 1 - Weeks 4-13",
                2: "Trimester 2 - Weeks 14-27",
                3: "Trimester 3 - Weeks 28-40"
            },
            jumpHeading: "Jump to a Week",
            progressStart: "Start",
            progressDelivery: "Delivery",
            footerNote: "Fruit sizes use common pregnancy comparisons and are approximate. Every pregnancy is unique-use this tool for fun visualization rather than medical guidance.",
            trimesterAria: "Trimester shortcuts",
            weekGridLabel: "Week quick selection"
        },
        tr: {
            pageTitle: "Gebelik Meyve Yolculugu",
            headerTitle: "Gebelik Meyve Yolculugu",
            headerLead: "Her haftayi bir meyve benzetmesiyle kesfedin ve bebeginizin bir cekirdekten neredeyse tam boy bir karpuza nasil buyudugunu gozunuzde canlandirin.",
            languageLabel: "Dil",
            themeLabel: "Tema",
            languages: { en: "Ingilizce", tr: "Turkce" },
            themeToggleDark: "Koyu moda gec",
            themeToggleLight: "Acik moda gec",
            weekLabel: "Hafta",
            weekPrefix: "Hafta",
            trimesterNames: { 1: "Birinci trimester", 2: "Ikinci trimester", 3: "Ucuncu trimester" },
            trimesterButtons: {
                1: "Trimester 1 - Haftalar 4-13",
                2: "Trimester 2 - Haftalar 14-27",
                3: "Trimester 3 - Haftalar 28-40"
            },
            jumpHeading: "Bir Haftaya Atla",
            progressStart: "Baslangic",
            progressDelivery: "Dogum",
            footerNote: "Meyve boyutlari yaygin gebelik karsilastirmalarina dayanan yaklasik degerlerdir. Her gebelik benzersizdir-bu araci tibbi tavsiye yerine eglenceli bir canlandirma icin kullanin.",
            trimesterAria: "Trimester kisayollari",
            weekGridLabel: "Hafta hizli secimi"
        }
    };

    const weekData = [
        { week: 4, fruit: { en: "Poppy Seed", tr: "Hashas Tohumu" }, size: { en: "Approx. 0.04 in / 0.1 cm", tr: "Yaklasik 0.04 in / 0.1 cm" }, summary: { en: "Right after implantation, your embryo is smaller than a poppy seed while layers of cells begin forming the placenta and baby.", tr: "Implantasyondan hemen sonra embriyo hashas tohumundan daha kucuk ve hucre tabakalari plasenta ile bebegi olusturmaya basliyor." } },
        { week: 5, fruit: { en: "Sesame Seed", tr: "Susam Tohumu" }, size: { en: "Approx. 0.08 in / 0.2 cm", tr: "Yaklasik 0.08 in / 0.2 cm" }, summary: { en: "The neural tube is developing quickly and the heart is beginning to beat.", tr: "Sinir tuphu hizla gelisirken kalp atmaya basliyor." } },
        { week: 6, fruit: { en: "Apple Seed", tr: "Elma Cekirdegi" }, size: { en: "Approx. 0.13 in / 0.33 cm", tr: "Yaklasik 0.13 in / 0.33 cm" }, summary: { en: "Tiny buds that will become arms and legs are sprouting, and facial features are starting to take shape.", tr: "Kollar ve bacaklara donusecek minicik tomurcuklar beliriyor ve yuz hatlari sekillenmeye basliyor." } },
        { week: 7, fruit: { en: "Blueberry", tr: "Yaban Mersini" }, size: { en: "Approx. 0.5 in / 1.3 cm", tr: "Yaklasik 0.5 in / 1.3 cm" }, summary: { en: "Hands and feet are forming webbed paddles while the brain grows at a rapid pace.", tr: "Beyin hizla buyurken eller ve ayaklar zarli yuzgeclere benzer yapilar halinde sekilleniyor." } },
        { week: 8, fruit: { en: "Raspberry", tr: "Ahududu" }, size: { en: "Approx. 0.63 in / 1.6 cm", tr: "Yaklasik 0.63 in / 1.6 cm" }, summary: { en: "Eyelids, lips, and a little nose are developing; your baby can now make spontaneous movements.", tr: "Gozkapaklari, dudaklar ve minik bir burun gelisirken bebeginiz artik kendiliginden hareketler yapabiliyor." } },
        { week: 9, fruit: { en: "Cherry", tr: "Visne" }, size: { en: "Approx. 0.9 in / 2.3 cm", tr: "Yaklasik 0.9 in / 2.3 cm" }, summary: { en: "The tail is disappearing and the head is more rounded as vital organs continue maturing.", tr: "Kuyruk kaybolurken bas daha yuvarlak hale geliyor ve hayati organlar olgunlasmaya devam ediyor." } },
        { week: 10, fruit: { en: "Kumquat", tr: "Kamkat" }, size: { en: "Approx. 1.2 in / 3.1 cm", tr: "Yaklasik 1.2 in / 3.1 cm" }, summary: { en: "Organs are in place and fingernails start forming-your baby graduates from embryo to fetus.", tr: "Organlar yerlerini alirken tirnaklar olusmaya basliyor ve bebeginiz embriyodan fetuse geciyor." } },
        { week: 11, fruit: { en: "Fig", tr: "Incir" }, size: { en: "Approx. 1.6 in / 4.1 cm", tr: "Yaklasik 1.6 in / 4.1 cm" }, summary: { en: "Bones are hardening, and your baby can now stretch, somersault, and hiccup.", tr: "Kemikler sertlesiyor ve bebeginiz gerinebiliyor, taklalar atabiliyor ve hickirebiliyor." } },
        { week: 12, fruit: { en: "Lime", tr: "Yesil Limon" }, size: { en: "Approx. 2.1 in / 5.4 cm", tr: "Yaklasik 2.1 in / 5.4 cm" }, summary: { en: "The digestive system is practicing contractions while reflexes sharpen.", tr: "Sindirim sistemi kasilmalari pratik ederken refleksler keskinlesiyor." } },
        { week: 13, fruit: { en: "Peach", tr: "Seftali" }, size: { en: "Approx. 2.9 in / 7.4 cm", tr: "Yaklasik 2.9 in / 7.4 cm" }, summary: { en: "Fingerprints deepen, vocal cords form, and the second trimester is just around the corner.", tr: "Parmak izleri belirginlesiyor, ses telleri olusuyor ve ikinci trimester yaklasiyor." } },
        { week: 14, fruit: { en: "Lemon", tr: "Limon" }, size: { en: "Approx. 3.4 in / 8.7 cm", tr: "Yaklasik 3.4 in / 8.7 cm" }, summary: { en: "Downy lanugo hair begins covering the body to help regulate temperature.", tr: "Vucudu sicakligi dengelemeye yardimci olan ince lanugo killari kaplamaya basliyor." } },
        { week: 15, fruit: { en: "Orange", tr: "Portakal" }, size: { en: "Approx. 4.0 in / 10.1 cm", tr: "Yaklasik 4.0 in / 10.1 cm" }, summary: { en: "Taste buds are forming and your baby can sense light through closed eyelids.", tr: "Tat tomurcuklari olusuyor ve bebeginiz kapali gozkapaqlarindan gelen isigi hissedebiliyor." } },
        { week: 16, fruit: { en: "Avocado", tr: "Avokado" }, size: { en: "Approx. 4.6 in / 11.6 cm", tr: "Yaklasik 4.6 in / 11.6 cm" }, summary: { en: "The skeletal system is strengthening and facial muscles allow for first expressions.", tr: "Iskelet sistemi guclenirken yuz kaslari ilk ifadelerin ortaya cikmasina izin veriyor." } },
        { week: 17, fruit: { en: "Pear", tr: "Armut" }, size: { en: "Approx. 5.1 in / 13 cm", tr: "Yaklasik 5.1 in / 13 cm" }, summary: { en: "Fat is starting to build under the skin while the heart pumps about 100 pints of blood a day.", tr: "Kalp gunde yaklasik 100 pint kan pompalar ve derinin altinda yag birikmeye baslar." } },
        { week: 18, fruit: { en: "Bell Pepper", tr: "Dolmalik Biber" }, size: { en: "Approx. 5.6 in / 14.2 cm", tr: "Yaklasik 5.6 in / 14.2 cm" }, summary: { en: "Ears are now in place and connected, so your baby can hear the outside world.", tr: "Kulaklar yerini aldi ve baglandi, bu sayede bebeginiz dis dunyayi duyabiliyor." } },
        { week: 19, fruit: { en: "Mango", tr: "Mango" }, size: { en: "Approx. 6.0 in / 15.3 cm", tr: "Yaklasik 6.0 in / 15.3 cm" }, summary: { en: "A waxy protective coating called vernix appears over the skin.", tr: "Verniks adi verilen mumlu koruyucu tabaka ciltte belirmeye basliyor." } },
        { week: 20, fruit: { en: "Banana", tr: "Muz" }, size: { en: "Approx. 6.5 in / 16.5 cm", tr: "Yaklasik 6.5 in / 16.5 cm" }, summary: { en: "Halfway there-the brain is designating areas for each sense.", tr: "Yolun yarisindasiniz; beyin her duyu icin bolgeleri ayirmaya basliyor." } },
        { week: 21, fruit: { en: "Pomegranate", tr: "Nar" }, size: { en: "Approx. 10.5 in / 26.7 cm", tr: "Yaklasik 10.5 in / 26.7 cm" }, summary: { en: "Your baby now measures head to toe, practicing swallowing and breathing motions.", tr: "Bebeginiz artik basindan ayagina olculuyor ve yutma ile nefes alma hareketlerini pratik ediyor." } },
        { week: 22, fruit: { en: "Papaya", tr: "Papaya" }, size: { en: "Approx. 11.0 in / 28 cm", tr: "Yaklasik 11.0 in / 28 cm" }, summary: { en: "Lips and eyelids are more distinct, and sleep cycles are emerging.", tr: "Dudaklar ve gozkapaqlari daha belirgin, uyku donguleri ortaya cikiyor." } },
        { week: 23, fruit: { en: "Grapefruit", tr: "Greyfurt" }, size: { en: "Approx. 11.5 in / 29.2 cm", tr: "Yaklasik 11.5 in / 29.2 cm" }, summary: { en: "You may feel karate kicks as muscles strengthen and lungs develop air sacs.", tr: "Kaslar guclenirken ve akcigerler hava kesecikleri gelistirirken karate tekmeleri hissedebilirsiniz." } },
        { week: 24, fruit: { en: "Cantaloupe", tr: "Kavun" }, size: { en: "Approx. 12.0 in / 30.5 cm", tr: "Yaklasik 12.0 in / 30.5 cm" }, summary: { en: "Taste buds are ready for flavor and the inner ear helps with balance.", tr: "Tat tomurcuklari lezzete hazir ve ic kulak dengeye yardim ediyor." } },
        { week: 25, fruit: { en: "Honeydew Melon", tr: "Bal Kavunu" }, size: { en: "Approx. 13.0 in / 33 cm", tr: "Yaklasik 13.0 in / 33 cm" }, summary: { en: "Baby can respond to your voice and may startle at loud sounds.", tr: "Bebek sesinize yanit verebilir ve yuksek seslerden irkilebilir." } },
        { week: 26, fruit: { en: "Canary Melon", tr: "Kanarya Kavunu" }, size: { en: "Approx. 13.6 in / 34.5 cm", tr: "Yaklasik 13.6 in / 34.5 cm" }, summary: { en: "The lungs are making surfactant, a key ingredient for breathing after birth.", tr: "Dogum sonrasi nefes icin onemli olan surfaktan akcigerlerde uretilemeye basliyor." } },
        { week: 27, fruit: { en: "Galia Melon", tr: "Galia Kavunu" }, size: { en: "Approx. 14.2 in / 36 cm", tr: "Yaklasik 14.2 in / 36 cm" }, summary: { en: "The brain's tissue and neurons keep expanding, boosting activity.", tr: "Beyin dokusu ve noronlar genislemeye devam ederek faaliyeti artiriyor." } },
        { week: 28, fruit: { en: "Jackfruit", tr: "Jackfruit" }, size: { en: "Approx. 14.8 in / 37.6 cm", tr: "Yaklasik 14.8 in / 37.6 cm" }, summary: { en: "Welcome to the third trimester-eyes can open and close, reacting to light.", tr: "Ucuncu trimestere hos geldiniz; gozler isiga tepki vererek acilip kapanabiliyor." } },
        { week: 29, fruit: { en: "Durian", tr: "Durian" }, size: { en: "Approx. 15.2 in / 38.6 cm", tr: "Yaklasik 15.2 in / 38.6 cm" }, summary: { en: "Tiny lungs continue to mature while your baby stores calcium for strong bones.", tr: "Minik akcigerler olgunlasmayi surdurur ve bebeginiz guclu kemikler icin kalsiyum depolar." } },
        { week: 30, fruit: { en: "Breadfruit", tr: "Ekmek Agaci Meyvesi" }, size: { en: "Approx. 15.7 in / 39.9 cm", tr: "Yaklasik 15.7 in / 39.9 cm" }, summary: { en: "The brain develops grooves and folds, increasing surface area for learning.", tr: "Beyin kivrimlar ve girintiler gelistirerek ogrenme icin yuzeyi artiriyor." } },
        { week: 31, fruit: { en: "Pineapple", tr: "Ananas" }, size: { en: "Approx. 16.2 in / 41.1 cm", tr: "Yaklasik 16.2 in / 41.1 cm" }, summary: { en: "Five senses are fully in place, and the body is plumping up quickly now.", tr: "Bes duyu tamamen devrede ve beden hizla kilo aliyor." } },
        { week: 32, fruit: { en: "Casaba Melon", tr: "Casaba Kavunu" }, size: { en: "Approx. 16.7 in / 42.4 cm", tr: "Yaklasik 16.7 in / 42.4 cm" }, summary: { en: "Finger and toenails are complete, and skin is transitioning from translucent to opaque.", tr: "El ve ayak tirnaklari tamamlandi ve deri saydamdan mat hale geciyor." } },
        { week: 33, fruit: { en: "Santa Claus Melon", tr: "Santa Claus Kavunu" }, size: { en: "Approx. 17.2 in / 43.7 cm", tr: "Yaklasik 17.2 in / 43.7 cm" }, summary: { en: "Immune system prep begins as antibodies pass from you to baby.", tr: "Sizden bebege antikorlar gecerken bagisiklik sistemi hazirlanmaya basliyor." } },
        { week: 34, fruit: { en: "Crenshaw Melon", tr: "Crenshaw Kavunu" }, size: { en: "Approx. 17.7 in / 45.0 cm", tr: "Yaklasik 17.7 in / 45.0 cm" }, summary: { en: "The nervous system keeps fine-tuning, supporting breathing and temperature control.", tr: "Sinir sistemi nefes alma ve sicaklik kontrolunu destekleyecek sekilde ince ayar yapiyor." } },
        { week: 35, fruit: { en: "Canary Watermelon", tr: "Kanarya Karpuzu" }, size: { en: "Approx. 18.2 in / 46.2 cm", tr: "Yaklasik 18.2 in / 46.2 cm" }, summary: { en: "Space is limited, so rolls and wiggles may feel more like gentle stretches.", tr: "Alan azaldigi icin tekme ve kivranmalar daha cok yumusak gerinmeler gibi hissedilebilir." } },
        { week: 36, fruit: { en: "Sugar Baby Watermelon", tr: "Sugar Baby Karpuzu" }, size: { en: "Approx. 18.7 in / 47.5 cm", tr: "Yaklasik 18.7 in / 47.5 cm" }, summary: { en: "Baby is practicing sucking and gripping while packing on ounces each day.", tr: "Bebek her gun gramlar eklerken emme ve kavrama hareketlerini pratik ediyor." } },
        { week: 37, fruit: { en: "Golden Watermelon", tr: "Altin Karpuz" }, size: { en: "Approx. 19.1 in / 48.5 cm", tr: "Yaklasik 19.1 in / 48.5 cm" }, summary: { en: "Considered early term-babies at this stage keep building brain and lung power.", tr: "Bu donem erken donem olarak kabul edilir; bebekler beyin ve akciger gucunu artirmaya devam eder." } },
        { week: 38, fruit: { en: "Pumpkin", tr: "Bal Kabagi" }, size: { en: "Approx. 19.4 in / 49.3 cm", tr: "Yaklasik 19.4 in / 49.3 cm" }, summary: { en: "Most lanugo is gone and a firm grasp reflex has developed.", tr: "Lanugonun cogu kaybolur ve guclu bir kavrama refleksi gelisir." } },
        { week: 39, fruit: { en: "Large Watermelon", tr: "Buyuk Karpuz" }, size: { en: "Approx. 19.8 in / 50.3 cm", tr: "Yaklasik 19.8 in / 50.3 cm" }, summary: { en: "The digestive system is ready for milk, and skin is smoothing out with extra fat.", tr: "Sindirim sistemi sut icin hazirlanir ve yag tabakasi ile deri duzlesir." } },
        { week: 40, fruit: { en: "Small Watermelon", tr: "Kucuk Karpuz" }, size: { en: "Approx. 20.2 in / 51.2 cm", tr: "Yaklasik 20.2 in / 51.2 cm" }, summary: { en: "Right on time-your baby is full term and ready to meet the world.", tr: "Tam zamaninda; bebeginiz tum donemini tamamladi ve dunyayi karsilamaya hazir." } }
    ];

    const trimesterRanges = {
        1: { start: 4, end: 13 },
        2: { start: 14, end: 27 },
        3: { start: 28, end: 40 }
    };

    const weekRange = document.querySelector('#week-range');
    const weekLabelText = document.querySelector('#week-label');
    const weekNumber = document.querySelector('#week-number');
    const fruitTitle = document.querySelector('#fruit-title');
    const fruitName = document.querySelector('#fruit-name');
    const fruitSummary = document.querySelector('#fruit-summary');
    const fruitSize = document.querySelector('#fruit-size');
    const trimesterLabel = document.querySelector('#trimester-label');
    const progressFill = document.querySelector('#progress-fill');
    const progressTrimester = document.querySelector('#progress-trimester');
    const progressStart = document.querySelector('#progress-start');
    const progressDelivery = document.querySelector('#progress-delivery');
    const headerTitle = document.querySelector('#header-title');
    const headerLead = document.querySelector('#header-lead');
    const footerNote = document.querySelector('#footer-note');
    const jumpHeading = document.querySelector('#jump-heading');
    const trimesterButtons = document.querySelectorAll('[data-trimester]');
    const trimesterTabs = document.querySelector('#trimester-tabs');
    const weekGrid = document.querySelector('#week-grid');
    const languageLabel = document.querySelector('#language-label');
    const themeLabel = document.querySelector('#theme-label');
    const languageButtons = document.querySelectorAll('[data-lang]');
    const themeToggle = document.querySelector('#theme-toggle');

    let currentLang = 'en';
    let currentTheme = 'light';
    let currentWeek = Number(weekRange.value);
    let isBootstrapping = true;
    let lastTrackedWeek = null;
    let lastTrackedLang = null;
    let lastTrackedTheme = null;

    function sendAnalyticsEvent(name, params = {}) {
        if (typeof gtag === 'function') {
            gtag('event', name, params);
        }
    }

    function getTrimesterKey(week) {
        if (week >= trimesterRanges[3].start) return '3';
        if (week >= trimesterRanges[2].start) return '2';
        return '1';
    }

    function renderWeekGrid() {
        weekGrid.innerHTML = '';
        const strings = translations[currentLang];
        weekData.forEach((item) => {
            const button = document.createElement('button');
            button.type = 'button';
            button.dataset.week = String(item.week);
            button.innerHTML = '<strong>' + strings.weekPrefix + ' ' + item.week + '</strong><span>' + item.fruit[currentLang] + '</span>';
            button.addEventListener('click', () => setWeek(item.week, 'grid_button'));
            weekGrid.appendChild(button);
        });
    }

    function highlightActiveWeek(week) {
        weekGrid.querySelectorAll('button').forEach((btn) => {
            btn.dataset.active = String(Number(btn.dataset.week) === week);
        });
    }

    function highlightActiveTrimester(trimesterKey) {
        trimesterButtons.forEach((btn) => {
            btn.dataset.active = String(btn.dataset.trimester === String(trimesterKey));
        });
    }

    function highlightActiveLanguage() {
        languageButtons.forEach((btn) => {
            btn.dataset.active = String(btn.dataset.lang === currentLang);
        });
    }

    function observeAdSlots() {
        const slots = document.querySelectorAll('.ad-slot');
        if (!slots.length) {
            return;
        }
        if (!('IntersectionObserver' in window)) {
            slots.forEach((slot) => {
                sendAnalyticsEvent('ad_slot_view', {
                    slot_id: slot.id || 'unknown',
                    language: currentLang,
                    theme: currentTheme
                });
            });
            return;
        }
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    sendAnalyticsEvent('ad_slot_view', {
                        slot_id: entry.target.id || 'unknown',
                        language: currentLang,
                        theme: currentTheme
                    });
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });
        slots.forEach((slot) => observer.observe(slot));
    }

    function watchScrollDepth() {
        const milestones = [25, 50, 75, 90];
        const reached = new Set();
        window.addEventListener('scroll', () => {
            const doc = document.documentElement;
            const body = document.body;
            const scrollTop = doc.scrollTop || body.scrollTop;
            const scrollable = (doc.scrollHeight || body.scrollHeight) - doc.clientHeight;
            const percent = scrollable > 0 ? Math.round((scrollTop / scrollable) * 100) : 100;
            milestones.forEach((mark) => {
                if (!reached.has(mark) && percent >= mark) {
                    reached.add(mark);
                    sendAnalyticsEvent('scroll_depth', { percent: mark });
                }
            });
        }, { passive: true });
    }

    function updateThemeToggleText() {
        const strings = translations[currentLang];
        if (currentTheme === 'light') {
            themeToggle.textContent = strings.themeToggleDark;
            themeToggle.dataset.active = 'light';
        } else {
            themeToggle.textContent = strings.themeToggleLight;
            themeToggle.dataset.active = 'dark';
        }
        themeToggle.setAttribute('aria-pressed', currentTheme === 'dark');
    }

    function setWeek(week, source = 'unknown') {
        const data = weekData.find((item) => item.week === week);
        if (!data) return;
        const strings = translations[currentLang];

        currentWeek = week;
        weekRange.value = String(week);
        weekNumber.textContent = String(week);
        fruitTitle.textContent = strings.weekPrefix + ' ' + week + ' - ' + data.fruit[currentLang];
        fruitName.textContent = data.fruit[currentLang];
        fruitSummary.textContent = data.summary[currentLang];
        fruitSize.textContent = data.size[currentLang];

        const trimesterKey = getTrimesterKey(week);
        const trimesterName = strings.trimesterNames[trimesterKey];
        trimesterLabel.textContent = trimesterName;
        progressTrimester.textContent = trimesterName;
        highlightActiveTrimester(trimesterKey);

        const completion = ((week - 4) / (40 - 4)) * 100;
        progressFill.style.width = Math.max(3, completion) + '%';

        highlightActiveWeek(week);

        if (isBootstrapping) {
            lastTrackedWeek = week;
        } else if (lastTrackedWeek !== week) {
            lastTrackedWeek = week;
            sendAnalyticsEvent('week_change', {
                week: week,
                fruit: data.fruit[currentLang],
                language: currentLang,
                theme: currentTheme,
                source: source
            });
        }
    }

    function setLanguage(lang) {
        if (!translations[lang]) return;
        currentLang = lang;
        const strings = translations[lang];

        document.documentElement.lang = lang;
        document.title = strings.pageTitle;
        headerTitle.textContent = strings.headerTitle;
        headerLead.textContent = strings.headerLead;
        languageLabel.textContent = strings.languageLabel;
        themeLabel.textContent = strings.themeLabel;
        weekLabelText.textContent = strings.weekLabel;
        progressStart.textContent = strings.progressStart;
        progressDelivery.textContent = strings.progressDelivery;
        footerNote.textContent = strings.footerNote;
        jumpHeading.textContent = strings.jumpHeading;
        trimesterTabs.setAttribute('aria-label', strings.trimesterAria);
        weekGrid.setAttribute('aria-label', strings.weekGridLabel);

        languageButtons.forEach((btn) => {
            const langKey = btn.dataset.lang;
            btn.textContent = strings.languages[langKey];
        });

        Object.keys(trimesterRanges).forEach((key) => {
            const button = document.querySelector('[data-trimester="' + key + '"]');
            if (button) {
                button.textContent = strings.trimesterButtons[key];
            }
        });

        renderWeekGrid();
        setWeek(currentWeek, 'language_refresh');
        highlightActiveLanguage();
        updateThemeToggleText();

        if (isBootstrapping) {
            lastTrackedLang = lang;
        } else if (lastTrackedLang !== lang) {
            lastTrackedLang = lang;
            sendAnalyticsEvent('language_change', { language: lang });
        }
        try {
            localStorage.setItem('fbLang', lang);
        } catch (error) {
        }
    }

    function setTheme(theme) {
        if (theme !== 'light' && theme !== 'dark') return;
        currentTheme = theme;
        document.documentElement.dataset.theme = theme;
        updateThemeToggleText();

        if (isBootstrapping) {
            lastTrackedTheme = theme;
        } else if (lastTrackedTheme !== theme) {
            lastTrackedTheme = theme;
            sendAnalyticsEvent('theme_change', { theme: theme });
        }
        try {
            localStorage.setItem('fbTheme', theme);
        } catch (error) {
        }
    }

    weekRange.addEventListener('input', (event) => {
        setWeek(Number(event.target.value), 'slider');
    });

    trimesterButtons.forEach((button) => {
        button.addEventListener('click', () => {
            const range = trimesterRanges[Number(button.dataset.trimester)];
            if (range) {
                setWeek(range.start, 'trimester_button');
            }
        });
    });

    languageButtons.forEach((button) => {
        button.addEventListener('click', () => {
            setLanguage(button.dataset.lang);
        });
    });

    themeToggle.addEventListener('click', () => {
        setTheme(currentTheme === 'light' ? 'dark' : 'light');
    });

    const preferredLang = (() => {
        try {
            const stored = localStorage.getItem('fbLang');
            if (stored && translations[stored]) return stored;
        } catch (error) {
        }
        const browser = (navigator.language || '').slice(0, 2).toLowerCase();
        return translations[browser] ? browser : 'en';
    })();

    const preferredTheme = (() => {
        try {
            const stored = localStorage.getItem('fbTheme');
            if (stored === 'light' || stored === 'dark') return stored;
        } catch (error) {
        }
        return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    })();

    setTheme(preferredTheme);
    setLanguage(preferredLang);
    setWeek(currentWeek, 'init');
    observeAdSlots();
    watchScrollDepth();
    isBootstrapping = false;
    sendAnalyticsEvent('tracker_ready', {
        language: currentLang,
        theme: currentTheme,
        week: currentWeek
    });
</script>
</body>
</html>

